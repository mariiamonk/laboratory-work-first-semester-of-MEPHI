#include <stdio.h>
#include <math.h>

double rad(double x, int *n, double pr);

int main(){
        int n = 1;
        double x, pr;
        int flag = 0;   
        printf("PLEASE ENTER DOUBLE X (|X| <= 1) AND DOUBLE PRECISION: \n");

        while(flag <= 1) || (fabs(x) > 1) || (fabs(pr) > 1)){
                flag = scanf("%lf%lf", &x, &pr);
                scanf("%*[^n]");
                if (flag == EOF){return 0;}
                if (flag == 1){break;}
                if (flag < 1){
                        printf("ERROR\nPLEASE ENTER CORRECT VALUES:\n");
                }
        }
        double res = rad(x, &n, pr);
        printf("SQRT(1 + X) = %1.10lf\nNUMBER: %d", res, n);

        return 0;
}

double rad(double x, int* n, double pr){
        double sum = 1, t = 1;
        while(fabs(t) > pr){
                t *= ((-1) * x * 2 * *n  * (2 * *n - 1)) / (4 * *n  * *n);
                sum += t / (1 - 2 * *n);
                ++*n;
        }
        return sum;
}
